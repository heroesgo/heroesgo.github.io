立体棋战桌游：沙场秋点兵

致谢
英雄无敌3 
象棋翻翻棋 
Dota
星际争霸

简介
这是一款在棋盘上调兵遣阵消灭对方兵力存活到最后为目标的回合制射击战棋游戏，每回合各方依次行动一轮，每轮有增援，移动，攻击三种操控动作

术语约定
玩家
参与游戏的人类，控制己方棋子在棋盘上移动射击，玩家不能控制对方棋子，人类也不亲自参与战斗，一局游戏至少两名玩家。当不存在结盟时，玩家也可称为方。本文暂不讨论结盟场景。
战场
用棋盘表示，标准棋盘有8*8共64格子，格子正中方是有效落子位置，战场也可称为棋盘
兵力
用棋子表示，一棋子计一点兵力，兵力是整数，没有小数点，兵力也可称为子力，或棋子，或子数，或子
格位
棋盘上的格子，多个同一玩家的棋子可以叠放在同一格上，不同玩家棋子不能放在同一格子上。未放置任何棋子的格位即为空闲格位；格位也可称为格子，或格
部队
一个格位的所有棋子称为一支部队。部队的棋子数即为这支部队的兵力，部队至少有一个兵；通过移动可以合并或者分拆部队来改变部队兵力分布，被攻击也会造成部队减员，减到零则部队被消灭；部队与位置关联，如果一支部队兵力整体移动到新位置，则形成新部队，原部队消失，同时若后续兵力移动到兵力消失的位置，那也是新部队，不是原部队
视野
己方部队观察战场的范围称为视野。玩家可以获知视野内各格位的敌方部队兵力信息，视野外为迷雾，无法获取任何地方信息；线下桌游视野为全战场，因为无法遮挡也没有天黑请闭眼环节。
行军
一次兵力移动操作称为行军，操作的兵力也可以称为行军，行军是运动中的兵力，是兵力的运动。行军是秘密的穿行，不可中断，不会中途触发视野等
部队消耗移动力生产行军，行军可以产生新部队或壮大已有部队
攻击
部队可以射击附近的敌方部队，造成对方兵力减少，攻击时不移动，不是飞过去吃子
步数
行军从格子横向或者纵向移动到紧邻的格子称为一步，注意不可直接斜向移动；一支行军只能在格位间一步步邻接转移到另一个位置，合法的路径如果有多条，最少转移路径的步数称为的到达目标位置的步数；注意步数与部队或行军的兵力无关；注意攻击范围和视野范围等也计算步数，但没有实际移动，也不受格位占据影响
移动力
己方轮次内一支部队的所有行军的移动步数总和的上限称为移动力
距离
两个格位其横纵坐标差绝对值中较大的那个值为距离，不同格位距离至少为一，注意两个格位的距离可能小于步数
人口上限
一个玩家上场的总兵力兵力数量上限，标准是8
回合
一局游戏中所有存活玩家按既定顺序轮流操作，所有玩家均操作一轮，称为一个回合。如果回合中玩家已被淘汰，则无法操作则自动跳到下一个可操作玩家。若回合结束后按同样顺序开启下一轮继续操作，除非直到只剩一方未被淘汰或者到达回合数量上限。标准局中游戏最大回合数为 64
轮次
一个玩家允许的一系列对己方兵力的操控。当玩家使用完所有操控机会或主动放弃操控则结束本轮次，进入下一玩家的轮次；玩家可以完全不操作，直接放弃自己的一整个轮次。轮次也称为轮
环节
玩家在自己轮次的操控中的一个操作阶段。目前一轮次分为增援、移动攻击两个环节，环节间是有顺序的，进行后续环节的操作意味着结束前面的环节
战斗环节
玩家一轮次内的移动攻击的操作环节。该环节可以控制己方部队做出移动，攻击两种行为，每个部队攻击后不可移动，部队间操控行为没有顺序限制。战斗环节也称为移动操作环节，是本游戏的核心环节

游戏初始化
每玩家各上场一支部队，出生于战场一角的格位，部队有8子，称之为该方玩家的出生格，余下8子在战场外等待增援时机

现在开始游戏详细设定与玩法
增援
       战场己方总兵力不满8时，可解锁增援，增援后场上己方总数也不可超过8，新的回合开始时放置于出生格, 若出生位置被其他方部队占据，则不可增援；当战场无己方子力时己方轮次必须增援，如同时不可增援则余子作废直接出局
增援环节完毕，玩家可以开始战斗环节，一旦开始移动或攻击视为结束增援环节，即使有增援指标，也视为放弃本轮增援机会；玩家可以完全放弃本轮次的增援；积攒增援机会有可能实现绝境翻盘
攻击：
战斗环节开始时的玩家的每部队，包括增援的部队，本轮次获得一次攻击机会，
攻击后该部队不可后续操作，即不可移动，也不可再次攻击
放弃的攻击机会直接本轮作废，不会滚动到下一回合，这不是话费流量
攻击力
每部队每次攻击消灭对方一子，注意不是消灭整支部队哦，本游戏杀伤力是整支部队的，固定的，与兵力无关，兵力体现到了其他优势上
攻击范围
攻击基础攻击范围为2步范围，兵力每翻番则加一步攻击范围，即
单兵部队攻击2步内
2～3兵部队攻击3步内
4～7兵部队攻击4步内
8～15兵部队攻击5步内
依次类推

攻击范围根据攻击当时本部队的兵力计算。其他部队集合进入本部队，本部队移出兵力到其他位置都可能导致攻击范围改变化，
不谈增援的话，攻击机会是在上一回合己方轮次结束时就确定的（可能因为下文中的拔营丧失），敌方往往会依此躲避，但是突如其来的兵力集合会增大攻击范围，打一个始料未及
强大的兵力固然能够攻击更远的敌人，能让流寇望而止步，但是攻击力有限，有时候反而被蚁群吞噬
移动
战斗环节开始时玩家的每部队，包括增援部队，获得3点移动力, 前后移动及左右移动步数总和不超过3步，25个格位；
不可以移动到其他方占据格子，只能经行空闲格子；
可整体部队作为单支行军移动，也可分出一到多队行军分别移动，所有移出的行军的移动总步数不能超过该部队的总移动力
部队总移动力与部队兵力无关
分散
部队移动但又不整体移动时，即分出多批行军，或只分出一支行军同时保留部分兵力驻守称为分散。
因为行军只能经行空闲格位，不同部队的多支行军，可恰当交替操作顺序，避免堵塞
整体移动其实也可以当分散，计算上等价处理
基于总移动力限制，可知每部队最多三支行军，三军齐发时每支只能一步。准备分散逃跑的时候请额外注意，留一个兵俗称断尾求生，留2兵力还有机会反击一次俗称且战且退
集合
    行军目的为己方部队或多支行军同一目的地称为集合。
集合分散是同一个行军操作的不同视角。
对于一支部队，可以先作为其他行军集合目标，壮大兵力后再进行本部队的行军操作，以及攻击，这样可以获得更优的运输能力，和攻击范围；特殊场景比如敌方部队妨碍了前来集合的部队的行军路线，这是就只能先攻击再集合
占营
一支或者多支行军移动到某新的空闲格子的称为占营。这是移动操作的一种效果
只有战斗回合开始的部队才有操作机会，新占营的兵力有待整顿，不可操作，即不可再移动或分散或攻击，否则不成了永动机了？你也可以理解需要安营扎寨架锅支炮，新部队需要下一回合本方轮次的战斗环节才可以获得3点移动力和1次攻击机会
扎营
行军形成的新占营待整顿部队，如果没有被敌方消灭，等到下一回合本轮次自动变成可操作部队，这个状态转化称为扎营。出生部队以及增援部队均直接作为已扎营部队。 扎营是战斗回合开始时存在的部队的另一种表述，扎营是一个结果，是移动操作和轮次更迭的结果，不是操作
拔营
部队行军后格位上无兵力，格子变为空闲，此效果称之为拔营，若未攻击过则该格位的攻击机会剩余移动步数均自然丧失，并不会转移到某支行军上
己方回合拔营后移动其他兵力到该格需要重新占营而无法攻击，但完全可以通过优化部队移动顺序避免不必要的拔营
兵链技巧
合理分布营地，运用分散集合，可以实现连续多跳运输，相当于兵链，
可以在一回合内把出生地的大部队瞬间转移到链条头部外加移动三步或攻击一次，比如3跳的链，增援部队5，接力运输可把5兵力的部队运输12步，这远远超过 24 的简单整体移动的运输能力
配合大部队的攻击范围优势，合理的布局可以实现多区域大范围威慑

战斗环节总体其实就三条规则：
    1.每个已扎营部队只有三步移动力
    2.每个已扎营且未拔营部队可攻击一次
    3.攻击后不可再移动
如果你战斗环节开始有 N 个部队，那你这环节最多有 N 的 4 倍动作，其中 3倍 N 的移动步数，N 次攻击


结算

结算时机
只有一方有兵力
达到回合上限
连续所有存活玩家无操作结束轮次
排名规则
1.全灭敌方者胜，被全灭者按生存时间排列
2.场上剩余兵力多者胜出
3.场上剩余子力相同按待援兵力多者胜
4.兵力完全相等者，比较各方的最后一击，先完成者胜出
5.无人造成伤害则流局，所有玩家淘汰，可以理解没有平局
结算称号
可以根据不同的结果给予不同称号；如果是杯赛，可以积不同分数，流局不加分



以下为适用电子游戏等变种玩法
主要增加一个视野和地形阻挡(程序自动计算并呈现

地形、视野、和阻挡：

立体化
每格位标有非负整数高度，称为地形高度
部队高度为所在格地形高度加部队人数
地图可以通过程序生成自然的山岭平原小路沟壑等生动的地形，玩家可以使用与高度匹配的第一视角，体验更好；
如果在现实中，可以在棋盘上放置多余象棋棋子涂上颜色充当地形，兵力直接堆叠象棋子高度一目了然，还可用直尺或眼睛直接判断是否可攻击

视野
视野范围为部队番数的一倍半向上取整，计算视野的时候不考虑格位空闲与否，但考虑地形阻挡
视线阻挡
地形障碍会让部队丢失障碍后格子的视野，
障碍格子地形高度的超过或等于双方部队高度连线，则认为视线被阻挡；视线被阻挡时如己方或友军部队有该格子视野，则不影响移动
攻击阻挡
发生视线阻挡时攻击也被阻挡，注意攻击者只能用本部队的视线，共享的视野不能取消攻击阻挡

视线阻挡补充描述：
视线本质上是直线，不能绕弯，
视线经过并排同视距两个格点时，取离观察位置步数少的计算阻挡，如同中国象棋蹩脚马一样，在日字形分布时，正反视线路径是不一致的，
视野不适用现实桌游中，但攻击阻挡可以运用上。
详细阻挡判断公式：
距离为两格纵横坐标差距大者，注意不是步数

被观察者高度  x
被观察者到中间格子距离 a
中间格子高度  y
中间格子到观察者距离  b
观察者高度  z

按直线法则，视线丢失条件存在视线路径上一个中间格满足：
（y -x)/a >=  (z-x)/(a+b)
即 (a+ b)y >= az+bx

阻挡公式举例说明：
当距离为1，即观察者观察周围八个格子，不存在中间格也就不存在阻挡
当a=1,b=1, 公式为2y >= x+z,即隔墙攻击障碍公式
当y=0，因为观察者高度非0,平地格不会造成阻挡

英灵视野：
一支部队被完全消灭后产生特殊的残留高空视野，
只能生效一回合然后在己方回合结束时消失，残留视野无视地形障碍，
视野范围按该部队存活最后己方回合结束时部队人数计算

视野与移动
部队移动中途为急行军，不会获得新视野，扎营后立即获得营地新视野，已获得视野知识回合内保留
部队无法直接移动到或者穿过无视野位置

视野与增援
增援部队位置改为视野内未被敌方占据格子，可任意分布可增援子力，每增援一支部队立即获得视野
若视野被全部占领则增援失败余子作废出局，
举例来说，如果战场只有一支位于角落的单兵部队，被消灭后获得6格的英灵视野，对方回合内占满后，即出现这种情况
视野与战场
曾经视野覆盖过格子的地形高度知识一直保留

电子版本还可以增加中地图，大地图，超大地图

大地图的参数变化
出生地不再是地图四角，而是散布地图各个位置，可支持任意多玩家

中等地图
棋盘 16*16，
各方总子力32，
上场子力16, 
最大同时部队数量8
移动力 4
出生地数量：2

大地图
棋盘 64*64，
各方总子力64，
上场子力32, 
最大同时部队数量16
移动力 6
出生地数量：4

超大地图
棋盘 256*256，
各方总子力256，
上场子力64, 
最大同时部队数量32
移动力 8
出生地数量：8

现实版本跳棋变种：

在传统跳棋上玩耍
现实版本为了方便，一个格子只能有一个棋子代表一个兵，己方相连的格子组成一个部队，连通棋子数即部队兵力，参与攻击范围计算

出生与增援
每方上场10子，待援10子
按跳棋规则出生于己方尖角，增援可任意选择尖角内空闲位置

移动方式变化
每部队还是三步移动，不能部队整体移动，只能单个棋子移动，可以从任意连通的棋子起移动，
一个部落可能因为棋子移动而拆分成多部队，只要是新部队有未移动棋子且没有攻击过的棋子，分别都有一次攻击机会，
攻击次数计算
回合内攻击过的部队所有棋子都算是参与了攻击，不可再移动或者攻击，即使被其他棋子连通了未操作获得的部队，新部队也无法也无法移动或攻击，可优化操作顺序来获得更大收益

分散集合
棋子的移动是不可打断的，中途经邻己方其他部队不计算融合关系

攻击范围
为了避免开局被殴，基础攻击范围减一
依旧部队子力翻番一次范围加一一次
攻击可以从部队任意选取一枚棋子作为代表发起攻击，可消灭范围内一个敌方棋子，
意味着不能攻击邻近敌军范围外棋子，
如果是电子版则计算地形阻挡，若攻击路线经过直缝时选取矮的地形

添加点乐子
趣味版本可以引入挖宝抽卡类，可选道具
愚公移山：用移动力搬运地形高度到附近格
天翻地覆：战场所有格位地形高度完全对调
画地为牢：指定部队下轮不得集合分散移动
溜之大吉：指定部队立即传送到某随机空位
同归于尽：指定部队牺牲并范围无差别攻击
世外桃源：指定部队跳过获得下轮隐身无敌
亡命天涯：本轮次内部队可用兵力换移动力
寸土不让：指定部队移动力换攻击机会三回

